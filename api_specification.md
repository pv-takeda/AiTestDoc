# 商品管理API 仕様書

## 1. 概要

このAPIは、商品情報の取得、作成、更新、削除を行うためのRESTful APIです。

**ベースURL:** `/api`

**データ形式:** JSON

## 2. 認証

すべてのリクエストで、HTTPヘッダーにAPIキーを含める必要があります。

`Authorization: Bearer <YOUR_API_KEY>`

## 3. エンドポイント

### 3.1. 商品一覧取得

すべての商品情報を一覧で取得します。

- **エンドポイント:** `GET /products`
- **説明:** 登録されているすべての商品情報を取得します。
- **成功レスポンス (200 OK):**
  ```json
  [
    {
      "id": 1,
      "name": "ノートPC",
      "price": 150000
    },
    {
      "id": 2,
      "name": "スマートフォン",
      "price": 80000
    }
  ]
  ```

### 3.2. 商品情報取得

指定したIDの商品情報を1件取得します。

- **エンドポイント:** `GET /products/{id}`
- **説明:** URLで指定されたIDを持つ商品の詳細情報を取得します。
- **URLパラメータ:**
  - `id` (必須): 商品ID
- **成功レスポンス (200 OK):**
  ```json
  {
    "id": 1,
    "name": "ノートPC",
    "price": 150000
  }
  ```
- **エラーレスポンス (404 Not Found):**
  指定されたIDの商品が存在しない場合に返されます。
  ```json
  {
    "error": "Product not found"
  }
  ```

### 3.3. 新規商品登録

新しい商品を登録します。

- **エンドポイント:** `POST /products`
- **説明:** 新しい商品情報を登録します。IDはサーバー側で自動的に採番されます。
- **リクエストボディ:**
  ```json
  {
    "name": "新しい商品",
    "price": 50000
  }
  ```
- **成功レスポンス (201 Created):**
  登録された商品情報が返されます。
  ```json
  {
    "id": 9,
    "name": "新しい商品",
    "price": 50000
  }
  ```
- **エラーレスポンス (400 Bad Request):**
  リクエストボディの形式が正しくない場合に返されます。
  ```json
  {
    "error": "Invalid input"
  }
  ```

### 3.4. 商品情報更新

既存の商品情報を更新します。

- **エンドポイント:** `PUT /products/{id}`
- **説明:** 指定したIDの商品情報を更新します。
- **URLパラメータ:**
  - `id` (必須): 商品ID
- **リクエストボディ:**
  ```json
  {
    "name": "更新された商品名",
    "price": 160000
  }
  ```
- **成功レスポンス (200 OK):**
  更新後の商品情報が返されます。
  ```json
  {
    "id": 1,
    "name": "更新された商品名",
    "price": 160000
  }
  ```
- **エラーレスポンス:**
  - `400 Bad Request`: リクエストボディが不正
  - `404 Not Found`: 商品が存在しない

### 3.5. 商品削除

指定したIDの商品を削除します。

- **エンドポイント:** `DELETE /products/{id}`
- **説明:** 指定したIDの商品情報を削除します。
- **URLパラメータ:**
  - `id` (必須): 商品ID
- **成功レスポンス (204 No Content):**
  レスポンスボディはありません。
- **エラーレスポンス (404 Not Found):**
  指定されたIDの商品が存在しない場合に返されます。
